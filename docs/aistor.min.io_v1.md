# API Reference

## Packages
- [aistor.min.io/v1](#aistorminiov1)


## aistor.min.io/v1

Package v1 - This page provides a quick automatically generated reference for the AIStor ObjectStore Operator `aistor.min.io/v1` CRD.


### Resource Types
- [ObjectStore](#objectstore)







#### Cache



Cache holds the configurations parameters for the Cache feature



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `enabled` _boolean_ | Whether to enable the Cache feature. |  |  |


#### CertificateConfig



CertificateConfig (`certConfig`) defines controlling attributes associated with any TLS certificate automatically generated by the AIStor ObjectStore Operator as part of object store creation. These fields have no effect if `spec.disableAutocert: true`.



_Appears in:_
- [Certificates](#certificates)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `commonName` _string_ | The `CommonName` or `CN` attribute to associate with automatically generated TLS certificates. |  | Optional: \{\} <br /> |
| `organizationName` _string array_ | Specify one or more `OrganizationName` or `O` attributes to associate to automatically generated TLS certificates. |  | Optional: \{\} <br /> |
| `dnsNames` _string array_ | Specify one or more x.509 Subject Alternative Names (SAN) to associate to automatically generated TLS certificates. MinIO Server pods use SNI to determine which certificate to respond with based on the requested hostname. |  | Optional: \{\} <br /> |


#### CertificateStatus



CertificateStatus keeps track of all the certificates managed by the operator



_Appears in:_
- [ObjectStoreStatus](#objectstorestatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `autoCertEnabled` _boolean_ | Registers whether we know if the object store has autocert enabled |  |  |
| `customCertificates` _[CustomCertificates](#customcertificates)_ | Provides the output of the `client`, `minio`, and`minioCAs` custom TLS certificates manually added to the Operator. |  | Optional: \{\} <br /> |


#### Certificates



Certificates describe the fields that are Certificates related



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `disableAutoCert` _boolean_ | Enables using Kubernetes-issued TLS certificates and signing for pods and services in the AIStor ObjectStore.<br />* Set `true` to explicitly disable automatic certificate generate.<br />* Set `false` (Default) to disable automatic certificate generation. (Default).<br />If `disableAutoCert` is set to `true` *and* `.certificates.server` is omitted, the AIStor ObjectStore deploys *without* TLS enabled. |  | Optional: \{\} <br /> |
| `config` _[CertificateConfig](#certificateconfig)_ | Enables setting the `CommonName`, `Organization`, and `dnsName` attributes for all TLS certificates automatically generated by the ObjectStore Operator. Configuring this object has no effect if `disableAutoCert` is `true`. |  | Optional: \{\} <br /> |
| `server` _[LocalCertificateReference](#localcertificatereference) array_ | Enables Certificates with SNI support on each AIStor pod in the object store. If `server` is omitted *and* `disableAutoCert` is set to `true`, the AIStor ObjectStore deploys *without* TLS enabled.<br />Specify an array of Kubernetes Certificates secrets. The AIStor ObjectStore Operator copies the specified certificates to every AIStor server pod in the object store. When the AIStor pod/service responds to a Certificates connection request, it uses SNI to select the certificate with matching `subjectAlternativeName`.<br />Each element in the `server` array is an object containing the following fields:<br />* - `name` - The name of the Kubernetes secret containing the TLS certificate.<br />* - `type` - Specify `kubernetes.io/tls` |  | Optional: \{\} <br /> |
| `trustedCAs` _[LocalCertificateReference](#localcertificatereference) array_ | Allows AIStor server pods to verify client TLS certificates signed by a Certificate Authority not in the pod's trust store.<br />Specify an array of Kubernetes Certificates secrets. The AIStor ObjectStore Operator copies the specified certificates to every AIStor server pod in the object store.<br />Each element in the `trustedCAs` array is an object containing the following fields:<br />* - `name` - The name of the Kubernetes secret containing the Certificate Authority.<br />* - `type` - Specify `kubernetes.io/tls` (when certificate is in the `tls.crt`) or `cert-manager.io/v1` (when certificate is in the `ca.crt`) |  | Optional: \{\} <br /> |
| `KESClient` _[LocalCertificateReference](#localcertificatereference)_ | Enables mTLS authentication between the AIStor ObjectStore pods and MinIO KES. *Required* for enabling connectivity between the AIStor ObjectStore and MinIO KES.<br />Specify a Kubernetes Certificates secret. The MinIO Operator copies the specified certificate to every MinIO server pod in the object store. The secret *must* contain the following fields:<br />* `name` - The name of the Kubernetes secret containing the TLS certificate.<br />* `type` - Specify `kubernetes.io/tls`<br />The specified certificate *must* correspond to an identity on the KES server. See the KES Wiki https://github.com/minio/kes/wiki/Configuration#policy-configuration.<br />If deploying KES with the AIStor ObjectStore Operator, include the hash of the certificate as part of the <<k8s-api-github-com-minio-operator-pkg-apis-minio-min-io-v2-kesconfig,`kes`>> object specification. |  | Optional: \{\} <br /> |
| `client` _[LocalCertificateReference](#localcertificatereference) array_ | The secret *must* contain the following fields:<br />* `name` - The name of the Kubernetes secret containing the TLS certificate.<br />* `type` - Specify `kubernetes.io/tls` |  | Optional: \{\} <br /> |
| `certExpiryAlertThreshold` _integer_ | Is the minimum number of days to expiry before an alert for an expiring certificate is fired. |  | Optional: \{\} <br /> |


#### CustomCertificateConfig



CustomCertificateConfig (`customCertificateConfig`) provides attributes associated of the TLS certificates manually added to the Operator as part of object store creation. These fields contain no data if there are no custom TLS certificates.



_Appears in:_
- [CustomCertificates](#customcertificates)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `certName` _string_ | Output one or more `CertName` attributes associated with the manually provided TLS certificates. |  | Optional: \{\} <br /> |
| `domains` _string array_ | Output one or more `Domains` attributes associated with the manually provided TLS certificates. |  | Optional: \{\} <br /> |
| `expiry` _string_ | Output one or more `Expiry` attributes associated with the manually provided TLS certificates. |  | Optional: \{\} <br /> |
| `expiresIn` _string_ | Output one or more `ExpiresIn` attributes associated with the manually provided TLS certificates. |  | Optional: \{\} <br /> |
| `serialNo` _string_ | Output one or more `SerialNo` attributes associated with the manually provided TLS certificates. |  | Optional: \{\} <br /> |


#### CustomCertificates



CustomCertificates (`customCertificates`) provides groupings of the TLS certificates manually added to the Operator as part of object store creation. These fields contain no data if there are no custom TLS certificates.



_Appears in:_
- [CertificateStatus](#certificatestatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `client` _[CustomCertificateConfig](#customcertificateconfig) array_ | Client |  | Optional: \{\} <br /> |
| `minio` _[CustomCertificateConfig](#customcertificateconfig) array_ | Minio |  | Optional: \{\} <br /> |
| `minioCAs` _[CustomCertificateConfig](#customcertificateconfig) array_ | Certificate Authorities |  | Optional: \{\} <br /> |


#### Domains



Domains (`domains`) - List of domains used to access the object store from outside the kubernetes clusters.
this will only configure AIStor for the domains listed, but external DNS configuration is still needed.
The listed domains should include schema and port if any is used, i.e. https://minio.domain.com:8123



_Appears in:_
- [Features](#features)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `minio` _string array_ | List of Domains used by AIStor. This will enable DNS style access to the object store where the bucket name is<br />inferred from a subdomain in the domain. |  |  |
| `console` _string_ | Domain used to expose the MinIO Console, this will configure the redirect on MinIO when visiting from the browser<br />If Console is exposed via a subpath, the domain should include it, i.e. https://console.domain.com:8123/subpath/ |  |  |


#### Encryption



Encryption configures encryption for the tenant if a KMS is present in the specified namespace/name



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` _string_ |  |  |  |
| `namespace` _string_ |  |  |  |
| `enclave` _string_ | Enclave to be used for this tenant |  | Optional: \{\} <br /> |
| `identitySecret` _[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#localobjectreference-v1-core)_ | Reference a secret with the Identity to the enclave that is to be used for this tenant |  | Optional: \{\} <br /> |




#### FeatureStatus



FeatureStatus represents the status of a feature, which can be complex in the future, so we are using a struct
to avoid painful migrations



_Appears in:_
- [ObjectStoreStatus](#objectstorestatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `enabled` _boolean_ | Enabled is a boolean that tells if the feature is enabled or not |  |  |


#### Features



Features (`features`) - Object describing which AIStor features to enable/disable in the AIStor ObjectStore.



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `bucketDNS` _boolean_ | Specify `true` to allow clients to access buckets using the DNS path `<bucket>.minio.default.svc.cluster.local`. Defaults to `false`. |  | Optional: \{\} <br /> |
| `domains` _[Domains](#domains)_ | Specify a list of domains used to access MinIO and Console. |  | Optional: \{\} <br /> |


#### FirewallSpec



FirewallSpec holds the configuration for the firewall sidecar



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `enabled` _boolean_ | Whether to enable the Firewall feature. |  |  |
| `image` _string_ | Image The container image to use for Firewall. |  | Optional: \{\} <br /> |
| `imagePullPolicy` _[PullPolicy](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#pullpolicy-v1-core)_ | The pull policy for the container image. Specify one of the following:<br />* `Always`<br />* `Never`<br />* `IfNotPresent` (Default)<br />Refer to the Kubernetes documentation for details https://kubernetes.io/docs/concepts/containers/images#updating-images |  | Optional: \{\} <br /> |
| `configuration` _[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#localobjectreference-v1-core)_ | Name of ConfigMap containing the Firewall config |  | Optional: \{\} <br /> |


#### HealthStatus

_Underlying type:_ _string_

HealthStatus represents whether the object store is healthy, with decreased service or offline



_Appears in:_
- [ObjectStoreStatus](#objectstorestatus)

| Field | Description |
| --- | --- |
| `green` | HealthStatusGreen indicates a healthy object store: all drives online<br /> |
| `yellow` | HealthStatusYellow indicates a decreased resilience object store, some drives offline<br /> |
| `red` | HealthStatusRed indicates the object store is offline, or lost write quorum<br /> |


#### KESConfig



KESConfig (`kes`) defines the configuration of the https://github.com/minio/kes[MinIO Key Encryption Service] (KES) StatefulSet deployed as part of the MinIO ObjectStore. KES supports Server-Side Encryption of objects using an external Key Management Service (KMS).



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `replicas` _integer_ | Specify the number of replica KES pods to deploy in the object store. |  | Optional: \{\} <br /> |
| `image` _string_ | The container image to use for deploying MinIO KES. |  | Optional: \{\} <br /> |
| `imagePullPolicy` _[PullPolicy](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#pullpolicy-v1-core)_ | The pull policy for the KES container image. Specify one of the following:<br />* `Always`<br />* `Never`<br />* `IfNotPresent` (Default)<br />Refer to the Kubernetes documentation for details https://kubernetes.io/docs/concepts/containers/images#updating-images |  | Optional: \{\} <br /> |
| `serviceAccountName` _string_ | The https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/[Kubernetes Service Account] to use for running MinIO KES pods created as part of the ObjectStore. |  | Optional: \{\} <br /> |
| `kesSecret` _[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#localobjectreference-v1-core)_ | Specifies a Kubernetes opaque secret which contains environment variables to use for setting up the MinIO KES service. |  | Required: \{\} <br /> |
| `externalCertSecret` _[LocalCertificateReference](#localcertificatereference)_ | Enables Certificates with SNI support on each MinIO KES pod in the object store. If `externalCertSecret` is omitted *and* `spec.disableAutoCert` is set to `true`, MinIO KES pods deploy *without* TLS enabled.<br />Specify a Kubernetes Certificates secret.<br />The AIStor ObjectStore Operator copies the specified certificate to every MinIO pod in the object store. When the AIStor pod/service responds to a Certificates connection request, it uses SNI to select the certificate with matching `subjectAlternativeName`.<br />Specify an object containing the following fields:<br />* - `name` - The name of the Kubernetes secret containing the TLS certificate.<br />* - `type` - Specify `kubernetes.io/tls` |  | Optional: \{\} <br /> |
| `clientCertSecret` _[LocalCertificateReference](#localcertificatereference)_ | Specify a Kubernetes Certificates secret containing a custom root Certificate Authority and x.509 certificate to use for performing mTLS authentication with an external Key Management Service, such as Hashicorp Vault.<br />Specify an object containing the following fields:<br />* - `name` - The name of the Kubernetes secret containing the Certificate Authority and x.509 Certificate.<br />* - `type` - Specify `kubernetes.io/tls` |  | Optional: \{\} <br /> |
| `trustedCAs` _[LocalCertificateReference](#localcertificatereference) array_ | Allows KES pods to verify client TLS certificates signed by a Certificate Authority not in the pod's trust store.<br />Specify an array of Kubernetes Certificates secrets.<br />The AIStor ObjectStore Operator copies the specified certificates to every KES pod in the object store.<br />Each element in the `trustedCAs` array is an object containing the following fields:<br />* - `name` - The name of the Kubernetes secret containing the Certificate Authority.<br />* - `type` - Specify `kubernetes.io/tls` (when the certificate is in `tls.crt`) or `cert-manager.io/v1` (when the certificate is in `ca.crt`) |  | Optional: \{\} <br /> |
| `gcpCredentialSecretName` _string_ |  Specify the GCP default credentials to be used for KES to authenticate to GCP key store |  | Optional: \{\} <br /> |
| `gcpWorkloadIdentityPool` _string_ |  Specify the name of the workload identity pool (This is required for generating service account token) |  | Optional: \{\} <br /> |
| `annotations` _object (keys:string, values:string)_ | If provided, use these annotations for KES Object Meta annotations |  | Optional: \{\} <br /> |
| `labels` _object (keys:string, values:string)_ | If provided, use these labels for KES Object Meta labels |  | Optional: \{\} <br /> |
| `resources` _[ResourceRequirements](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#resourcerequirements-v1-core)_ | Object specification for specifying CPU and memory resources allocation or limits in the KES pods. |  | Optional: \{\} <br /> |
| `nodeSelector` _object (keys:string, values:string)_ | The filter to select on which nodes to deploy MinIO KES pods. The Operator only selects those nodes whose labels match the specified selector.<br />See the Kubernetes documentation on https://kubernetes.io/docs/concepts/configuration/assign-pod-node/ for more information. |  | Optional: \{\} <br /> |
| `tolerations` _[Toleration](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#toleration-v1-core) array_ | Specify one or more Kubernetes tolerations to apply to MinIO KES pods. |  | Optional: \{\} <br /> |
| `affinity` _[Affinity](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#affinity-v1-core)_ | Specify node affinity, pod affinity, and pod anti-affinity for the KES pods. |  | Optional: \{\} <br /> |
| `topologySpreadConstraints` _[TopologySpreadConstraint](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#topologyspreadconstraint-v1-core) array_ | Specify one or more Kubernetes Topology Spread Constraints to apply to KES pods. |  | Optional: \{\} <br /> |
| `keyName` _string_ | If provided, use this as the name of the key that KES creates on the KMS backend |  | Optional: \{\} <br /> |
| `securityContext` _[PodSecurityContext](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#podsecuritycontext-v1-core)_ | Specify the Security Context of MinIO KES pods. The Operator supports only the following pod security fields:<br />* `fsGroup`<br />* `fsGroupChangePolicy`<br />* `runAsGroup`<br />* `runAsNonRoot`<br />* `runAsUser`<br />* `seLinuxOptions` |  | Optional: \{\} <br /> |
| `containerSecurityContext` _[SecurityContext](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#securitycontext-v1-core)_ | Specify the Security Context of MinIO KES pods. |  |  |
| `env` _[EnvVar](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#envvar-v1-core) array_ | If provided, environment variables are added to the KES deployment. |  | Optional: \{\} <br /> |


#### LocalCertificateReference



LocalCertificateReference Contains a Kubernetes secret containing TLS certificates or Certificate Authority files for use with enabling TLS in the AIStor ObjectStore.



_Appears in:_
- [Certificates](#certificates)
- [KESConfig](#kesconfig)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` _string_ | The name of the Kubernetes secret containing the TLS certificate or Certificate Authority file. |  | Required: \{\} <br /> |
| `type` _string_ | The type of Kubernetes secret. Specify `kubernetes.io/tls` |  | Optional: \{\} <br /> |


#### Logging



Logging describes Logging for AIStor Object Stores.



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `json` _boolean_ |  |  |  |
| `anonymous` _boolean_ |  |  |  |
| `quiet` _boolean_ |  |  |  |


#### ObjectStore



ObjectStore is kubernetes native object storage for AI.



_Appears in:_
- [ObjectStoreList](#objectstorelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` _string_ | `aistor.min.io/v1` | | |
| `kind` _string_ | `ObjectStore` | | |
| `metadata` _[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `scheduler` _[ObjectStoreScheduler](#objectstorescheduler)_ |  |  |  |
| `spec` _[ObjectStoreSpec](#objectstorespec)_ | The root field for AIStor ObjectStore object. |  | Required: \{\} <br /> |




#### ObjectStoreScheduler



ObjectStoreScheduler Object describing Kubernetes Scheduler to use for deploying the MinIO ObjectStore.



_Appears in:_
- [ObjectStore](#objectstore)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` _string_ | Specify the name of the Kubernetes scheduler to be used to schedule ObjectStore pods |  | Required: \{\} <br /> |


#### ObjectStoreSpec



ObjectStoreSpec (`spec`) defines the configuration of a MinIO ObjectStore object.


The following parameters are specific to the `aistor.min.io/v1` AIStor CRD API `spec`.



_Appears in:_
- [ObjectStore](#objectstore)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `pools` _[Pool](#pool) array_ | Array of objects describing each AIStor server pool deployed in the AIStor ObjectStore.<br />Each pool consists of a set of AIStor server pods which "pool" their storage resources for supporting object storage and retrieval requests. Each server pool is independent of all others and supports horizontal scaling of available storage resources in the AIStor ObjectStore.<br />The AIStor ObjectStore `spec` *must have* at least *one* element in the `pools` array. |  | Required: \{\} <br /> |
| `image` _string_ | Container image to use when deploying `minio` server pods. |  | Optional: \{\} <br /> |
| `imagePullSecret` _[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#localobjectreference-v1-core)_ | Specify the secret key to use for pulling all images (ObjectStore and sidecars) from a private container registry. |  | Optional: \{\} <br /> |
| `podManagementPolicy` _[PodManagementPolicyType](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#podmanagementpolicytype-v1-apps)_ | Pod Management Policy for pod created by StatefulSet |  | Optional: \{\} <br /> |
| `env` _[EnvVar](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#envvar-v1-core) array_ | If provided, the AIStor ObjectStore Operator adds the specified environment variables when deploying the ObjectStore resource. |  | Optional: \{\} <br /> |
| `certificates` _[Certificates](#certificates)_ | Settings for Object Store TLS Certificates |  | Optional: \{\} <br /> |
| `mountPath` _string_ | For AIStor volume (PV). Defaults to `/export` |  | Optional: \{\} <br /> |
| `subPath` _string_ | Mount path suffix, this is the directory where MinIO stores data. Default to `""`` (empty) |  | Optional: \{\} <br /> |
| `liveness` _[Probe](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#probe-v1-core)_ | Probe for AIStor container liveness. Container will be restarted if the probe fails. |  | Optional: \{\} <br /> |
| `readiness` _[Probe](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#probe-v1-core)_ | Probe for AIStor container readiness. Container will be removed from service endpoints if the probe fails. |  | Optional: \{\} <br /> |
| `startup` _[Probe](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#probe-v1-core)_ | Probe allows configuring a max grace period for a pod to start before getting traffic routed to it. |  | Optional: \{\} <br /> |
| `lifecycle` _[Lifecycle](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#lifecycle-v1-core)_ | hooks for container. |  | Optional: \{\} <br /> |
| `features` _[Features](#features)_ | Features that can be disabled or enabled. |  |  |
| `kes` _[KESConfig](#kesconfig)_ | Directs the AIStor ObjectStore Operator to deploy the MinIO Key Encryption Service (KES) using the specified configuration.<br />MinIO KES supports performing server-side encryption of objects on the AIStor ObjectStore. |  | Optional: \{\} <br /> |
| `prometheusOperator` _boolean_ | Directs the AIStor ObjectStore Operator to use prometheus operator.<br />ObjectStore scrape configuration will be added to prometheus managed by the prometheus-operator. |  | Optional: \{\} <br /> |
| `prometheusOperatorScrapeMetricsPaths` _string array_ | API end point(s) to scrape metrics from PrometheusOperatorScrapeMetricsPaths<br />If PrometheusOperator: true and PrometheusOperatorScrapeMetricsPaths is empty, will add `/minio/v2/metrics/cluster` to the list of paths to scrape as default like before. |  | Optional: \{\} <br /> |
| `serviceAccountName` _string_ | The https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/[Kubernetes Service Account] to use for running MinIO pods created as part of the ObjectStore. + |  | Optional: \{\} <br /> |
| `priorityClassName` _string_ | Indicates the Pod priority and therefore the importance of a Pod relative to other Pods in the cluster.<br />This is applied to AIStor pods only.<br />Refer Kubernetes Priority Class https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/#priorityclass. |  | Optional: \{\} <br /> |
| `imagePullPolicy` _[PullPolicy](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#pullpolicy-v1-core)_ | The pull policy for the AIStor container image. Specify one of the following:<br />* `Always`<br />* `Never`<br />* `IfNotPresent` (Default)<br />Refer Kubernetes documentation for details https://kubernetes.io/docs/concepts/containers/images#updating-images |  | Optional: \{\} <br /> |
| `sideCars` _[SideCars](#sidecars)_ | A list of containers to run as sidecars along every AIStor Pod deployed in the object store. |  | Optional: \{\} <br /> |
| `services` _[Services](#services)_ | Directs the Operator to expose the AIStor and/or Console services. |  | Optional: \{\} <br /> |
| `logging` _[Logging](#logging)_ | Enable JSON, Anonymous logging for AIStor Object Stores. |  | Optional: \{\} <br /> |
| `configuration` _[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#localobjectreference-v1-core)_ | Reference a secret with AIStor environment variables.<br />The secret must include a key named config.env with exported variables. |  | Optional: \{\} <br /> |
| `initContainers` _[Container](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#container-v1-core) array_ | Add custom initContainers to AIStor StatefulSet |  | Optional: \{\} <br /> |
| `additionalVolumes` _[Volume](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#volume-v1-core) array_ | If provided, StatefulSet will add these volumes. You should set the rules for the corresponding volumes and volume mounts. |  | Optional: \{\} <br /> |
| `additionalVolumeMounts` _[VolumeMount](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#volumemount-v1-core) array_ | If provided, StatefulSet will add these volumes. You should set the rules for the corresponding volumes and volume mounts. |  | Optional: \{\} <br /> |
| `cache` _[Cache](#cache)_ | Cache option |  | Optional: \{\} <br /> |
| `firewall` _[FirewallSpec](#firewallspec)_ | Firewall sidecar options |  | Optional: \{\} <br /> |
| `encryption` _[Encryption](#encryption)_ | Deprecated: This field is deprecated<br />Enables encryption against an AIStor KMS in a specific namespace |  | Optional: \{\} <br /> |
| `sftp` _[SFTP](#sftp)_ | Enables SFTP |  | Optional: \{\} <br /> |




#### PodStatus



PodStatus holds the status of the pods in the object store



_Appears in:_
- [PoolStatus](#poolstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `running` _integer_ | Running is the number of running pods |  |  |
| `crashing` _integer_ | Crashing is the number of pods crashing |  |  |
| `pending` _integer_ | Pending is the number of pods pending |  |  |


#### Pool



Pool Defines a MinIO server pool on an ObjectStore.
Each pool consists of a set of AIStor server pods.
Each server pool is independent of all others and supports horizontal scaling of available storage resources in the AIStor ObjectStore.



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` _string_ | Specifies the name of the pool. The AIStor ObjectStore Operator automatically generates the pool name if this field is omitted. |  | MinLength: 1 <br />Required: \{\} <br /> |
| `servers` _integer_ | The number of AIStor server pods to deploy in the pool. The minimum value is `2`. |  | Required: \{\} <br /> |
| `volumesPerServer` _integer_ | The number of Persistent Volume Claims to generate for each AIStor pod in the pool.<br />The AIStor ObjectStore Operator requires a minimum of `4` volumes per pool. Specifically, the result of `pools.servers X pools.volumesPerServer` must be greater than `4`. |  | Required: \{\} <br /> |
| `volumeClaimTemplate` _[PersistentVolumeClaim](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#persistentvolumeclaim-v1-core)_ | Specify the Volume Claims options for the AIStor ObjectStore. |  | Required: \{\} <br /> |
| `resources` _[ResourceRequirements](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#resourcerequirements-v1-core)_ | Object specification for specifying CPU and memory or limits in the AIStor Object Store. |  | Optional: \{\} <br /> |
| `nodeSelector` _object (keys:string, values:string)_ | The filter for the AIStor ObjectStore Operator to apply when selecting which nodes on which to deploy pods in the pool. The Operator only selects those nodes whose labels match the specified selector.<br />See the Kubernetes documentation on https://kubernetes.io/docs/concepts/configuration/assign-pod-node/. |  | Optional: \{\} <br /> |
| `affinity` _[Affinity](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#affinity-v1-core)_ | Specifies node affinity, pod affinity, and pod anti-affinity for pods in the pool. |  | Optional: \{\} <br /> |
| `tolerations` _[Toleration](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#toleration-v1-core) array_ | Specify one or more Kubernetes tolerations to apply to pods deployed in the pool. |  | Optional: \{\} <br /> |
| `topologySpreadConstraints` _[TopologySpreadConstraint](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#topologyspreadconstraint-v1-core) array_ | Specify one or more Kubernetes Topology Spread Constraints to apply to pods deployed in the pool. |  | Optional: \{\} <br /> |
| `securityContext` _[PodSecurityContext](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#podsecuritycontext-v1-core)_ | Specify Security Context of pods in the pool. The AIStor ObjectStore Operator supports only the following pod security fields:<br />* `fsGroup`<br />* `fsGroupChangePolicy`<br />* `runAsGroup`<br />* `runAsNonRoot`<br />* `runAsUser` |  | Optional: \{\} <br /> |
| `containerSecurityContext` _[SecurityContext](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#securitycontext-v1-core)_ | Specify Security Context of containers in the pool. The AIStor ObjectStore Operator supports only the following container security fields:<br />* `runAsGroup`<br />* `runAsNonRoot`<br />* `runAsUser` |  | Optional: \{\} <br /> |
| `annotations` _object (keys:string, values:string)_ | Specify custom annotations to append to the Pool.<br />If provided, use these annotations for the Pool Objects Meta annotations (StatefulSet and Pod template) |  | Optional: \{\} <br /> |
| `labels` _object (keys:string, values:string)_ | If provided, use these labels for the Pool Objects Meta annotations (StatefulSet and Pod template) |  | Optional: \{\} <br /> |
| `runtimeClassName` _string_ | If provided, each pod on the StatefulSet will run with the specified RuntimeClassName.<br />For more info https://kubernetes.io/docs/concepts/containers/runtime-class/ |  | Optional: \{\} <br /> |


#### PoolState

_Underlying type:_ _string_

PoolState represents the state of a pool



_Appears in:_
- [PoolStatus](#poolstatus)

| Field | Description |
| --- | --- |
| `PoolNotCreated` | PoolNotCreated of a pool when it's not even created yet<br /> |
| `PoolCreated` | PoolCreated indicates a pool was created<br /> |
| `PoolInitialized` | PoolInitialized indicates if a pool has been observed to be online<br /> |


#### PoolStatus



PoolStatus keeps track of all the pools and their current state



_Appears in:_
- [ObjectStoreStatus](#objectstorestatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` _string_ | Name of the pool |  |  |
| `ssName` _string_ |  |  |  |
| `state` _[PoolState](#poolstate)_ |  |  |  |
| `podStatus` _[PodStatus](#podstatus)_ | The status of the MinIO pods for the pool |  | Optional: \{\} <br /> |


#### SFTP



SFTP holds the configurations parameters for the SFTP feature



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `enabled` _boolean_ | Whether to enable the SFTP feature. |  |  |
| `serviceExternalTrafficPolicy` _[ServiceExternalTrafficPolicy](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#serviceexternaltrafficpolicy-v1-core)_ | The type of external traffic policy the service exposing the AIStor SFTP service will follow.<br />If set, the service external traffic policy will be exposed using the specified type.<br />if omitted, the service will be exposed using the default type `Cluster`. |  | Optional: \{\} <br /> |
| `serviceType` _[ServiceType](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#servicetype-v1-core)_ | The type of service to expose SFTP<br />If set, the SFTP will be exposed using the specified type.<br />if omitted, the SFTP will be exposed using the default type `ClusterIP`. |  | Optional: \{\} <br /> |
| `nodePort` _integer_ | The port to expose the SFTP is using a NodePort.<br />If set, SFTP will be exposed using the specified port.<br />if omitted, SFTP will be exposed using whatever assigned port by kubernetes. |  | Optional: \{\} <br /> |
| `domainName` _string_ | If specified, SFTP can be accessed using the domain name when exposed |  | Optional: \{\} <br /> |


#### ServiceConfig



ServiceConfig defines the details of how a service is created



_Appears in:_
- [Services](#services)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `serviceType` _[ServiceType](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#servicetype-v1-core)_ | The type of service to expose the AIStor service.<br />If set, the service will be exposed using the specified type.<br />if omitted, the service will be exposed using the default type `ClusterIP`. |  | Optional: \{\} <br /> |
| `serviceExternalTrafficPolicy` _[ServiceExternalTrafficPolicy](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#serviceexternaltrafficpolicy-v1-core)_ | The type of external traffic policy the service exposing the AIStor service will follow.<br />If set, the service external traffic policy will be exposed using the specified type.<br />if omitted, the service will be exposed using the default type `Cluster`. |  | Optional: \{\} <br /> |
| `nodePort` _integer_ | The port to expose the AIStor service is using a NodePort.<br />If set, the service will be exposed using the specified port.<br />if omitted, the service will be exposed using whatever assigned port by kubernetes. |  | Optional: \{\} <br /> |
| `labels` _object (keys:string, values:string)_ | If provided, append these labels to the service. |  | Optional: \{\} <br /> |
| `annotations` _object (keys:string, values:string)_ | If provided, append these annotations to the service. |  | Optional: \{\} <br /> |


#### Services



Services (`services`) defines the exposure of the MinIO object storage and Console services.



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `minio` _[ServiceConfig](#serviceconfig)_ | Directs the Operator to expose the MinIO service. |  | Optional: \{\} <br /> |
| `console` _[ServiceConfig](#serviceconfig)_ | Directs the Operator to expose the AIStor Console service. |  | Optional: \{\} <br /> |


#### SideCars



SideCars (`sidecars`) defines a list of containers that the Operator attaches to each MinIO server pods in the `pool`.



_Appears in:_
- [ObjectStoreSpec](#objectstorespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `containers` _[Container](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#container-v1-core) array_ | List of containers to run inside the Pod |  | Optional: \{\} <br /> |
| `volumeClaimTemplates` _[PersistentVolumeClaim](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#persistentvolumeclaim-v1-core) array_ | volumeClaimTemplates is a list of claims that pods are allowed to reference.<br />The StatefulSet controller is responsible for mapping network identities to<br />claims in a way that maintains the identity of a pod. Every claim in<br />this list must have at least one matching (by name) volumeMount in one<br />container in the template. A claim in this list takes precedence over<br />any volumes in the template, with the same name. |  | Optional: \{\} <br /> |
| `volumes` _[Volume](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#volume-v1-core) array_ | List of volumes that can be mounted by containers belonging to the pod.<br />More info: https://kubernetes.io/docs/concepts/storage/volumes |  | Optional: \{\} <br /> |
| `resources` _[ResourceRequirements](https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.23/#resourcerequirements-v1-core)_ | sidecar's Resource, initcontainer will use that if set. |  | Optional: \{\} <br /> |


#### TierUsage



TierUsage represents the usage from a tier setup by the object store



_Appears in:_
- [Usage](#usage)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `Name` _string_ | Name of the tier |  |  |
| `Type` _string_ | Type of the tier |  |  |
| `totalSize` _integer_ | TotalSize usage of the tier |  |  |


#### Usage



Usage is metrics regarding the usage and capacity of the object store



_Appears in:_
- [ObjectStoreStatus](#objectstorestatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `capacity` _integer_ | The usage capacity of this object store in bytes. |  | Optional: \{\} <br /> |
| `rawCapacity` _integer_ | The raw capacity of this object store in bytes. |  | Optional: \{\} <br /> |
| `usage` _integer_ | Is how much data is managed by MinIO in bytes. |  | Optional: \{\} <br /> |
| `rawUsage` _integer_ | Is the raw usage on disks in bytes. |  | Optional: \{\} <br /> |
| `tiers` _[TierUsage](#tierusage) array_ | Include the usage of individual tiers in the object store |  | Optional: \{\} <br /> |


